/*!
 * dependent-dropdown v1.4.9
 * http://plugins.krajee.com/dependent-dropdown
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2019, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD-3-Clause
 * https://github.com/kartik-v/dependent-dropdown/blob/master/LICENSE.md
 */!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";var t,a;e.fn.depdropLocales={},t={isEmpty:function(t,a){return null==t||0===t.length||a&&""===e.trim(t)},setParams:function(t,a){var n={};return 0===t.length?{}:(e.each(t,function(e,t){n[t]=a[e]}),n)},toStr:function(e){return t.isEmpty(e)?e:e.toString()}},(a=function(t,a){var n=this;n.$element=e(t),e.each(a,function(e,t){n[e]=t}),n.initData(),n.init()}).prototype={constructor:a,initData:function(){var e=this,t=e.$element;e.initVal=t.val(),e.initDisabled=t.attr("disabled"),t.data("url",e.url).data("placeholder",e.placeholder).data("loading",e.loading).data("loadingClass",e.loadingClass).data("loadingText",e.loadingText).data("emptyMsg",e.emptyMsg).data("params",e.params)},init:function(){var t,a=this.depends,n=this.$element,i=a.length,r=n.find("option").length,o=this.initDepends||this.depends;for((0===r||n.find('option[value=""]').length===r)&&n.attr("disabled","disabled"),t=0;t<i;t++)this.listen(t,a,i);if(!0===this.initialize)for(t=0;t<o.length;t++)e("#"+o[t]).trigger("depdrop:change");n.trigger("depdrop:init")},listen:function(a,n,i){var r=this;e("#"+n[a]).on("depdrop:change change select2:select krajeeselect2:selectall krajeeselect2:cleared krajeeselect2:unselectall",function(a){var o=e(this);(t.isEmpty(o.data("select2"))||"change"!==a.type)&&r.setDep(o,n,i)})},setDep:function(t,a,n){var i,r,o,d={};for(o=0;o<n;o++)if(r=(i=e("#"+a[o])).attr("type"),d[o]="checkbox"===r||"radio"===r?i.prop("checked"):i.val(),this.skipDep&&(d[o]===this.loadingText||""===d[o])){this.$element.html('<option id="">'+this.emptyMsg+"</option>");return}this.processDep(this.$element,t.attr("id"),d,a)},processDep:function(a,n,i,r){var o,d,s,l,p,c=this,u=0,f={},g={},h=a.data("url"),m=t.setParams(r,i),v={},y=a.data("placeholder"),x=a.data("loading"),$=a.data("loadingClass"),j=a.data("loadingText"),b=a.data("emptyMsg"),P=a.data("params");if(c.ajaxResults={},g[c.parentParam]=i,!t.isEmpty(P)){for(s=0;s<P.length;s++)l=P[s],p=e("#"+P[s]).val(),f[s]=p,v[l]=p;g[c.otherParam]=f}g[c.allParam]=e.extend(!0,{},m,v),d={url:h,type:"post",data:g,dataType:"json",beforeSend:function(t){a.trigger("depdrop:beforeChange",[n,e("#"+n).val(),c.initVal,t]),a.find("option[selected]").removeAttr("selected"),a.val("").attr("disabled","disabled").html(""),x&&a.removeClass($).addClass($).html('<option id="">'+j+"</option>")},success:function(i,r,d){c.ajaxResults=i,o=t.isEmpty(i.selected)?!1===c.initVal?null:c.initVal:i.selected,t.isEmpty(i)?c.createOption(a,"",b,""):(c.renderSelect(i.output,y,o,a),a.find("optgroup").length>0&&a.find('option[value=""]').attr("disabled","disabled"),i.output&&!c.initDisabled&&a.removeAttr("disabled")),u=a.find("option").length,a.find('option[value=""]').length>0&&(u-=1),a.trigger("depdrop:change",[n,e("#"+n).val(),u,c.initVal,r,d])},error:function(t,i,r){a.trigger("depdrop:error",[n,e("#"+n).val(),c.initVal,t,i,r])},complete:function(t,i){x&&a.removeClass($),a.trigger("depdrop:afterChange",[n,e("#"+n).val(),c.initVal,t,i])}},e.extend(!0,d,c.ajaxSettings),e.ajax(d)},createOption:function(a,n,i,r,o){var d={value:n,text:i},s=[],l=r,p=this.idParam,c=function(e){var a=t.toStr(e);a&&s.push(a)};l&&(l instanceof Array||l instanceof Object)?e.each(l,function(e,t){t instanceof Object?c(t[p]):c(t)}):c(l),e.extend(!0,d,o||{}),s.length&&e.inArray(t.toStr(n),s)>-1&&(d.selected="selected"),e("<option/>",d).appendTo(a)},renderSelect:function(a,n,i,r){var o,d=this,s=d.idParam,l=d.nameParam;r.empty(),!1!==n&&d.createOption(r,"",n,i),t.isEmpty(a)&&(a={}),e.each(a,function(a,n){if(t.isEmpty(n[s])){var p=e("<optgroup>",{label:a});e.each(n,function(e,t){o=t[d.optionsParam]||{},d.createOption(p,t[s],t[l],i,o)}),p.appendTo(r)}else o=n[d.optionsParam]||{},d.createOption(r,n[s],n[l],i,o)})},getAjaxResults:function(){return this.ajaxResults}},e.fn.depdrop=function(n){var i=Array.apply(null,arguments),r=[];switch(i.shift(),this.each(function(){var o=e(this),d=o.data("depdrop"),s="object"==typeof n&&n,l=s.language||o.data("language")||"en",p={},c={};d||("en"===l||t.isEmpty(e.fn.depdropLocales[l])||(p=e.fn.depdropLocales[l]),e.extend(!0,c,e.fn.depdrop.defaults,e.fn.depdropLocales.en,p,s,o.data()),d=new a(this,c),o.data("depdrop",d)),"string"==typeof n&&r.push(d[n].apply(d,i))}),r.length){case 0:return this;case 1:return r[0];default:return r}},e.fn.depdrop.defaults={language:"en",depends:"",initDepends:"",url:"",params:{},ajaxSettings:{},ajaxResults:{},initialize:!1,skipDep:!1,loading:!0,loadingClass:"kv-loading",idParam:"id",nameParam:"name",optionsParam:"options",parentParam:"depdrop_parents",otherParam:"depdrop_params",allParam:"depdrop_all_params"},e.fn.depdropLocales.en={loadingText:"Loading ...",placeholder:"Select ...",emptyMsg:"No data found"},e.fn.depdrop.Constructor=a,e(function(){e("select.depdrop").depdrop()})});